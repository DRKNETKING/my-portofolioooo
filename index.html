<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Judul diperbarui dengan nama bergaya -->
    <title>ùñÜùñáùñâùñöùñëùñçùñÜùñáùñéùñá - Web Engineer</title>
    <!-- Memuat Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Gaya Kustom */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a1a2e; /* Warna latar belakang gelap untuk tema modern */
            color: #ffffff;
            transition: background-color 0.3s ease;
            overflow: hidden; /* Sembunyikan scrollbar saat loading */
        }

        /* --- LOADING SCREEN --- */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #0d0d1a; /* Sangat gelap */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 1;
            transition: opacity 0.7s ease-out, visibility 0.7s ease-out;
            visibility: visible;
        }

        .loading-hidden {
            opacity: 0 !important;
            visibility: hidden !important;
        }
        
        /* Konten Utama */
        #main-content {
            opacity: 0;
            transition: opacity 0.7s ease-in; 
        }

        .content-visible {
            opacity: 1 !important;
            height: 100vh;
            overflow-y: auto; 
        }

        /* Styling untuk progress bar */
        .progress-container {
            width: 80%;
            max-width: 400px;
            height: 10px;
            background-color: #242442;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 20px;
            box-shadow: 0 0 10px rgba(0, 240, 181, 0.4);
        }

        .progress-bar {
            height: 100%;
            width: 0;
            background-color: #00f0b5;
            animation: fillProgress 6s cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
        }

        @keyframes fillProgress {
            0% { width: 0%; }
            100% { width: 100%; }
        }

        /* --- Styling untuk Orb Animasi Futuristik --- */
        .anime-orb {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: radial-gradient(circle, #00f0b5 0%, #1a1a2e 70%);
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 0 20px rgba(0, 240, 181, 0.8);
            animation: pulseGlow 1.5s infinite alternate;
            position: relative;
            z-index: 10;
        }

        .orb-inner {
            font-size: 30px;
            font-weight: 900;
            color: #1a1a2e;
            text-shadow: 1px 1px 0 #00f0b5;
        }

        @keyframes pulseGlow {
            0% {
                box-shadow: 0 0 10px rgba(0, 240, 181, 0.4), 0 0 30px rgba(0, 240, 181, 0.2);
                transform: scale(1.0);
            }
            100% {
                box-shadow: 0 0 20px rgba(0, 240, 181, 0.9), 0 0 50px rgba(0, 240, 181, 0.6);
                transform: scale(1.05);
            }
        }
        /* --- Akhir Styling Orb Animasi --- */
        
        /* Gaya Jam dan Tanggal Futuristik */
        #dateTimeDisplay {
            background-color: #242442; 
            border: 1px solid #00f0b5; 
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            box-shadow: 0 0 15px rgba(0, 240, 181, 0.5);
            text-align: center;
            font-family: monospace; 
        }
        
        .time-text {
            font-size: 2.5rem; 
            color: #00f0b5;
            letter-spacing: 0.1em;
            font-weight: 700;
            text-shadow: 0 0 8px rgba(0, 240, 181, 0.8);
        }
        
        .date-text {
            font-size: 1.1rem;
            color: #ffffff;
            opacity: 0.7;
            margin-top: 0.5rem;
        }

        /* Gaya Khusus Dashboard Kontak */
        .contact-dashboard {
            background-color: #0d0d1a;
            border: 2px solid #00f0b5;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 0 30px rgba(0, 240, 181, 0.7);
            margin-top: 3rem;
            font-family: 'Inter', sans-serif;
        }

        .contact-card {
            background-color: #242442;
            border: 1px solid #3e3e60;
            border-radius: 10px;
            padding: 1.5rem;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .contact-card:hover {
            transform: translateY(-5px) scale(1.02);
            border-color: #00f0b5;
            box-shadow: 0 0 25px rgba(0, 240, 181, 0.4);
        }

        .card-icon {
            color: #00f0b5;
            width: 40px;
            height: 40px;
        }

        /* Animasi Text Scramble */
        .scramble {
            display: inline-block;
            color: #00f0b5;
            font-family: monospace;
            text-shadow: 0 0 5px rgba(0, 240, 181, 0.5);
        }

        .copy-btn {
            background-color: #3e3e60;
            color: #ffffff;
            padding: 0.4rem 0.8rem;
            border-radius: 5px;
            font-size: 0.8rem;
            transition: background-color 0.2s;
        }

        /* Gaya Khusus Pricing Card */
        .pricing-card {
            background-color: #242442;
            border: 1px solid #3e3e60;
            border-radius: 15px;
            padding: 2.5rem 1.5rem;
            transition: all 0.3s ease;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .pricing-card:hover {
            transform: translateY(-10px);
            border-color: #00f0b5;
            box-shadow: 0 0 30px rgba(0, 240, 181, 0.5);
        }

        .featured-card {
            border: 3px solid #00f0b5;
            background-color: #3e3e60;
            transform: scale(1.05);
        }
        .featured-card:hover {
            transform: translateY(-10px) scale(1.05);
        }

        .pricing-header {
            border-bottom: 2px dashed #00f0b5;
            padding-bottom: 1rem;
            margin-bottom: 1.5rem;
        }

        .price-tag {
            font-size: 3.5rem;
            font-weight: 800;
            color: #00f0b5;
            text-shadow: 0 0 10px rgba(0, 240, 181, 0.7);
        }
        
        /* Gaya Khusus Chat */
        .chat-box {
            height: 400px;
            overflow-y: auto;
            scroll-behavior: smooth;
        }
        .message-bubble {
            max-width: 80%;
            padding: 8px 12px;
            border-radius: 15px;
            margin-bottom: 8px;
        }
        .user-message {
            background-color: #00f0b5;
            color: #1a1a2e;
            margin-left: auto;
            border-bottom-right-radius: 2px;
        }
        .other-message {
            background-color: #3e3e60;
            color: #ffffff;
            margin-right: auto;
            border-bottom-left-radius: 2px;
        }

        /* Kalkulator */
        .calc-btn {
            padding: 15px;
            border-radius: 10px;
            font-size: 1.5rem;
            font-weight: bold;
            transition: all 0.1s ease-in-out;
            box-shadow: 0 4px #1a1a2e;
        }
        .num-btn {
            background-color: #3e3e60;
            color: #ffffff;
            transition: background-color 0.1s ease;
            &:hover {
                background-color: #5a5a78;
            }
        }
        .op-btn {
            background-color: #242442;
            color: #00f0b5;
            &:hover {
                background-color: #3e3e60;
            }
        }
        .eq-btn {
            background-color: #00f0b5;
            color: #1a1a2e;
            &:hover {
                background-color: #28ff9a;
            }
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- 1. LOADING SCREEN (Layar Pemuatan 6 Detik) -->
    <div id="loading-screen">
        <div class="mx-auto anime-orb mb-4">
            <span class="orb-inner">A</span>
        </div>
        <h1 class="text-4xl font-extrabold text-[#00f0b5] mb-2">SISTEM AKTIF...</h1>
        <p class="text-xl font-semibold text-white">Memuat Data (Maks. 6 Detik)</p>
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
    </div>

    <!-- 2. Konten Utama Website -->
    <div id="main-content" class="container mx-auto p-4 md:p-8 pt-12">
        
        <!-- Header Profil -->
        <header class="text-center mb-16 bg-[#242442] p-8 rounded-xl shadow-2xl">
            <!-- Avatar: Orb Animasi -->
            <div class="mx-auto anime-orb" id="anime-avatar-orb">
                <span class="orb-inner">A</span>
            </div>
            <!-- Nama diganti dengan gaya khusus -->
            <h1 class="text-4xl md:text-5xl font-extrabold mt-4 text-[#00f0b5]">
                ùñÜùñáùñâùñöùñëùñçùñÜùñáùñéùñá
            </h1>
            <p class="text-xl font-light text-gray-300">
                Web Engineer | Kreator Konten Anime
            </p>
            <div id="user-info-display" class="mt-2 text-sm text-gray-400">
                <!-- User ID akan ditampilkan di sini setelah autentikasi -->
            </div>
            
            <!-- Button Kontak/Call to Action -->
            <button onclick="scrollToContact()" class="mt-6 px-6 py-3 bg-[#00f0b5] text-gray-900 font-bold rounded-full transition duration-300 hover:bg-[#28ff9a]">
                Hubungi Saya Sekarang!
            </button>
        </header>

        <!-- Navigasi -->
        <nav class="mb-8 border-b border-[#00f0b5]/50 pb-4">
            <ul class="flex justify-center space-x-4 md:space-x-8 text-lg font-medium">
                <li><a href="#" class="text-gray-400 hover:text-[#00f0b5] transition duration-200">Tentang Saya</a></li>
                <li><a onclick="scrollToPricing()" class="text-gray-400 hover:text-[#00f0b5] transition duration-200 cursor-pointer">Layanan</a></li>
                <li><a href="#" class="text-gray-400 hover:text-[#00f0b5] transition duration-200">Proyek</a></li>
                <li><a onclick="scrollToContact()" class="text-gray-400 hover:text-[#00f0b5] transition duration-200 cursor-pointer">Kontak</a></li>
            </ul>
        </nav>
        
        <!-- FITUR BARU: JAM DAN TANGGAL FUTURISTIK -->
        <div id="dateTimeDisplay" class="max-w-xl mx-auto">
            <div id="currentTime" class="time-text">--:--:--</div>
            <div id="currentDate" class="date-text">Tanggal tidak tersedia</div>
        </div>
        
        <!-- Bagian Proyek/Konten -->
        <h2 class="text-3xl md:text-4xl font-extrabold mb-8 border-l-4 border-[#00f0b5] pl-4">
            Karya Fiksi Keren (5 Live Demo Fungsional)
        </h2>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6 mb-10">
            
            <!-- Kartu Proyek 1: Chat App (Fungsional - Firestore Publik) -->
            <div class="card bg-[#242442] p-4 rounded-xl shadow-xl transition duration-300 hover:scale-[1.02] cursor-pointer demo-button" data-target="chatInterface">
                <div class="text-sm text-[#00f0b5] font-bold mb-1">Demo #1 | Real-time</div>
                <h3 class="text-lg font-bold mb-2">Komunikasi Cepat</h3>
                <p class="text-gray-400 mb-3 text-xs">Saluran Chat Publik Global.</p>
                <div class="w-full text-center py-2 bg-[#00f0b5] text-gray-900 font-bold rounded-lg transition duration-200 hover:bg-[#28ff9a]">
                    Akses Chat
                </div>
            </div>

            <!-- Kartu Proyek 2: To-Do List (Fungsional - Firestore Private) -->
            <div class="card bg-[#242442] p-4 rounded-xl shadow-xl transition duration-300 hover:scale-[1.02] cursor-pointer demo-button" data-target="todoInterface">
                <div class="text-sm text-[#00f0b5] font-bold mb-1">Demo #2 | CRUD</div>
                <h3 class="text-lg font-bold mb-2">Manajer Tugas</h3>
                <p class="text-gray-400 mb-3 text-xs">Manajer Tugas Lintas Dimensi (Data Private).</p>
                <div class="w-full text-center py-2 bg-[#00f0b5] text-gray-900 font-bold rounded-lg transition duration-200 hover:bg-[#28ff9a]">
                    Buka Tugas
                </div>
            </div>

            <!-- Kartu Proyek 3: Reaksi Game (Fungsional - JS Murni) -->
            <div class="card bg-[#242442] p-4 rounded-xl shadow-xl transition duration-300 hover:scale-[1.02] cursor-pointer demo-button" data-target="gameInterface">
                <div class="text-sm text-[#00f0b5] font-bold mb-1">Demo #3 | Interaktif</div>
                <h3 class="text-lg font-bold mb-2">Game Uji Reaksi</h3>
                <p class="text-gray-400 mb-3 text-xs">Uji kecepatan saraf Anda melawan waktu.</p>
                <div class="w-full text-center py-2 bg-[#00f0b5] text-gray-900 font-bold rounded-lg transition duration-200 hover:bg-[#28ff9a]">
                    Mulai Game
                </div>
            </div>
            
            <!-- Kartu Proyek 4: Kalkulator (Fungsional - JS Murni) -->
            <div class="card bg-[#242442] p-4 rounded-xl shadow-xl transition duration-300 hover:scale-[1.02] cursor-pointer demo-button" data-target="calculatorInterface">
                <div class="text-sm text-[#00f0b5] font-bold mb-1">Demo #4 | Utility</div>
                <h3 class="text-lg font-bold mb-2">Kalkulator Cyberpunk</h3>
                <p class="text-gray-400 mb-3 text-xs">Operasi Aritmatika dasar dengan UI futuristik.</p>
                <div class="w-full text-center py-2 bg-[#00f0b5] text-gray-900 font-bold rounded-lg transition duration-200 hover:bg-[#28ff9a]">
                    Akses Kalkulator
                </div>
            </div>

            <!-- Kartu Proyek 5: Galeri/Animasi (Fungsional - CSS/UI) -->
            <div class="card bg-[#242442] p-4 rounded-xl shadow-xl transition duration-300 hover:scale-[1.02] cursor-pointer demo-button" data-target="galeriInterface">
                <div class="text-sm text-[#00f0b5] font-bold mb-1">Demo #5 | Visual</div>
                <h3 class="text-lg font-bold mb-2">Galeri Seni Karakter</h3>
                <p class="text-gray-400 mb-3 text-xs">Pameran efek visual dan desain UI/UX.</p>
                <div class="w-full text-center py-2 bg-[#00f0b5] text-gray-900 font-bold rounded-lg transition duration-200 hover:bg-[#28ff9a]">
                    Lihat Galeri
                </div>
            </div>
        </div>
        
        <!-- === INTERFACES LIVE DEMO === -->
        <div id="allInterfaces" class="relative">
            <!-- Bagian untuk menampilkan Pesan Kesalahan/Status -->
            <div id="statusMessage" class="hidden fixed top-0 left-0 right-0 p-4 text-center text-sm font-semibold rounded-lg z-50 transition duration-300"></div>

            <!-- 1. CHAT INTERFACE -->
            <div id="chatInterface" class="interface-panel hidden mt-8 bg-[#242442] p-6 rounded-xl shadow-2xl active">
                <div class="flex justify-between items-center border-b border-[#00f0b5] pb-3 mb-4">
                    <h3 class="text-2xl font-bold text-[#00f0b5]">Saluran Komunikasi Cepat</h3>
                    <button class="text-gray-400 hover:text-white transition duration-200 close-button">
                        <!-- SVG Close Icon -->
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                </div>
                <div id="messages" class="chat-box bg-[#1a1a2e] p-4 rounded-lg mb-4 border border-[#3e3e60]">
                    <p class="text-center text-gray-500 italic" id="loadingChatStatus">Menghubungkan ke Saluran...</p>
                </div>
                <form id="messageForm" class="flex gap-2">
                    <input type="text" id="messageInput" placeholder="Ketik pesan Anda di sini..." class="flex-grow p-3 rounded-lg bg-[#3e3e60] border border-[#00f0b5] text-white focus:outline-none focus:ring-2 focus:ring-[#00f0b5]" required />
                    <button type="submit" class="bg-[#00f0b5] text-gray-900 font-bold p-3 rounded-lg transition duration-200 hover:bg-[#28ff9a] disabled:opacity-50" id="sendButton">Kirim</button>
                </form>
            </div>

            <!-- 2. TODO LIST INTERFACE (Baru) -->
            <div id="todoInterface" class="interface-panel hidden mt-8 bg-[#242442] p-6 rounded-xl shadow-2xl">
                <div class="flex justify-between items-center border-b border-[#00f0b5] pb-3 mb-4">
                    <h3 class="text-2xl font-bold text-[#00f0b5]">Manajer Tugas Lintas Dimensi (Private)</h3>
                    <button class="text-gray-400 hover:text-white transition duration-200 close-button">
                        <!-- SVG Close Icon -->
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                </div>
                <form id="todoForm" class="flex gap-2 mb-4">
                    <input type="text" id="todoInput" placeholder="Tugas baru..." class="flex-grow p-3 rounded-lg bg-[#3e3e60] border border-[#00f0b5] text-white focus:outline-none focus:ring-2 focus:ring-[#00f0b5]" required />
                    <button type="submit" class="bg-[#00f0b5] text-gray-900 font-bold p-3 rounded-lg transition duration-200 hover:bg-[#28ff9a]">Tambah Tugas</button>
                </form>
                <div id="taskList" class="h-64 overflow-y-auto bg-[#1a1a2e] p-4 rounded-lg border border-[#3e3e60]">
                    <!-- Daftar Tugas akan dimuat di sini -->
                    <p class="text-center text-gray-500 italic">Memuat tugas...</p>
                </div>
            </div>

            <!-- 3. REACTION GAME INTERFACE (Baru) -->
            <div id="gameInterface" class="interface-panel hidden mt-8 bg-[#242442] p-6 rounded-xl shadow-2xl text-center">
                <div class="flex justify-between items-center border-b border-[#00f0b5] pb-3 mb-4">
                    <h3 class="text-2xl font-bold text-[#00f0b5]">Game Uji Reaksi</h3>
                    <button class="text-gray-400 hover:text-white transition duration-200 close-button">
                         <!-- SVG Close Icon -->
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                </div>
                
                <p id="gameStatus" class="text-lg font-semibold mb-4 text-yellow-300">Klik 'Mulai' untuk menguji reaksi Anda.</p>
                <div id="reaction-area" class="bg-gray-700 text-white select-none">
                    Tunggu Warna Hijau
                </div>
                <p id="resultText" class="text-2xl font-extrabold mt-4 text-[#00f0b5] min-h-[30px]">0 ms</p>
                <button id="startGameButton" class="mt-4 py-2 px-6 bg-red-600 text-white font-bold rounded-lg transition duration-200 hover:bg-red-700">Mulai Ulang</button>
            </div>

             <!-- 4. CALCULATOR INTERFACE (Baru) -->
            <div id="calculatorInterface" class="interface-panel hidden mt-8 bg-[#242442] p-6 rounded-xl shadow-2xl max-w-sm mx-auto">
                <div class="flex justify-between items-center border-b border-[#00f0b5] pb-3 mb-4">
                    <h3 class="text-2xl font-bold text-[#00f0b5]">Kalkulator Cyberpunk</h3>
                    <button class="text-gray-400 hover:text-white transition duration-200 close-button">
                        <!-- SVG Close Icon -->
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                </div>
                
                <div id="display" class="bg-[#1a1a2e] text-right p-4 rounded-lg mb-4 text-3xl font-mono border border-[#00f0b5] min-h-[60px]">0</div>
                
                <div class="grid grid-cols-4 gap-3">
                    <button class="calc-btn op-btn bg-gray-600 hover:bg-gray-500" data-value="AC">AC</button>
                    <button class="calc-btn op-btn bg-gray-600 hover:bg-gray-500" data-value="DEL">DEL</button>
                    <button class="calc-btn op-btn bg-[#00f0b5]/50 hover:bg-[#00f0b5]/70 text-gray-900" data-value="/">/</button>
                    <button class="calc-btn op-btn bg-[#00f0b5]/50 hover:bg-[#00f0b5]/70 text-gray-900" data-value="*">*</button>
                    
                    <button class="calc-btn num-btn" data-value="7">7</button>
                    <button class="calc-btn num-btn" data-value="8">8</button>
                    <button class="calc-btn num-btn" data-value="9">9</button>
                    <button class="calc-btn op-btn bg-[#00f0b5]/50 hover:bg-[#00f0b5]/70 text-gray-900" data-value="-">-</button>
                    
                    <button class="calc-btn num-btn" data-value="4">4</button>
                    <button class="calc-btn num-btn" data-value="5">5</button>
                    <button class="calc-btn num-btn" data-value="6">6</button>
                    <button class="calc-btn op-btn bg-[#00f0b5]/50 hover:bg-[#00f0b5]/70 text-gray-900" data-value="+">+</button>
                    
                    <button class="calc-btn num-btn" data-value="1">1</button>
                    <button class="calc-btn num-btn" data-value="2">2</button>
                    <button class="calc-btn num-btn" data-value="3">3</button>
                    <button class="calc-btn eq-btn row-span-2 bg-[#00f0b5] hover:bg-[#28ff9a] text-gray-900" data-value="=">=</button>
                    
                    <button class="calc-btn num-btn col-span-2" data-value="0">0</button>
                    <button class="calc-btn num-btn" data-value=".">.</button>
                </div>
            </div>

            <!-- 5. GALERI / ANIMASI INTERFACE (Simple Demo) -->
            <div id="galeriInterface" class="interface-panel hidden mt-8 bg-[#242442] p-6 rounded-xl shadow-2xl text-center">
                <div class="flex justify-between items-center border-b border-[#00f0b5] pb-3 mb-4">
                    <h3 class="text-2xl font-bold text-[#00f0b5]">Galeri Seni Karakter</h3>
                    <button class="text-gray-400 hover:text-white transition duration-200 close-button">
                        <!-- SVG Close Icon -->
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                </div>
                <div class="p-8 border-2 border-dashed border-[#00f0b5] rounded-xl relative overflow-hidden">
                    <h4 class="text-3xl font-extrabold text-[#00f0b5] mb-4 z-10 relative">EFEK HOLOGRAFIK BERJALAN</h4>
                    <p class="text-gray-400 mb-4 z-10 relative">Demo sederhana ini menampilkan efek animasi CSS murni (Placeholder Galeri Sesungguhnya).</p>
                    <div class="absolute inset-0 bg-[#0d0d1a] opacity-80 z-0"></div>
                    
                    <!-- Animasi Garis Pindai (Scanline Effect) -->
                    <div class="scanline-effect"></div>

                    <div class="h-40 w-full bg-gradient-to-r from-transparent via-[#00f0b5]/50 to-transparent animate-pulse absolute top-0 left-0 right-0 z-10" 
                        style="clip-path: polygon(0 0, 100% 0, 80% 100%, 20% 100%);">
                    </div>
                    <div class="h-full w-40 bg-gradient-to-b from-transparent via-[#00f0b5]/50 to-transparent animate-spin-slow absolute top-0 left-1/2 -ml-20 z-10"></div>

                    <button class="mt-6 py-2 px-6 bg-[#00f0b5] text-gray-900 font-bold rounded-lg transition duration-200 hover:bg-[#28ff9a] z-20 relative">
                        Lihat Lebih Lanjut (Link Fiksi)
                    </button>
                </div>
            </div>
        </div>
        <!-- === END INTERFACES LIVE DEMO === -->

        <!-- FITUR BARU: LAYANAN & HARGA -->
        <h2 id="pricing-section" class="text-3xl md:text-4xl font-extrabold mt-20 mb-8 border-l-4 border-[#00f0b5] pl-4 text-[#00f0b5]">
            [LAYANAN & HARGA PENGEMBANGAN]
        </h2>
        <p class="text-center text-gray-400 mb-10 italic max-w-3xl mx-auto">
            Pilih paket yang sesuai dengan kebutuhan proyek Anda. Harga mencerminkan kompleksitas fitur yang didemokan di atas.
        </p>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
            
            <!-- PRICING CARD 1: PAKET DASAR (Utility/Game) -->
            <div class="pricing-card">
                <div>
                    <div class="pricing-header">
                        <h3 class="text-3xl font-extrabold text-white">PAKET DASAR</h3>
                        <p class="text-sm text-gray-400 mt-1">Solusi Cepat & Sederhana</p>
                    </div>
                    <div class="price-tag mb-4">
                        <span class="text-xl align-top text-gray-400">Rp</span>350
                    </div>
                    <p class="text-sm text-gray-300 mb-4">Cocok untuk proyek utilitas mandiri atau game sederhana, seperti demo Kalkulator dan Uji Reaksi.</p>
                    <ul class="space-y-3 mb-8 text-sm">
                        <li class="flex items-center"><span class="text-[#00f0b5] mr-2 text-xl">&#10003;</span> Desain UI Minimalis</li>
                        <li class="flex items-center"><span class="text-[#00f0b5] mr-2 text-xl">&#10003;</span> Fungsionalitas Mandiri (Static/JS Murni)</li>
                        <li class="flex items-center"><span class="text-[#00f0b5] mr-2 text-xl">&#10003;</span> 1x Revisi Desain</li>
                        <li class="flex items-center text-gray-500"><span class="mr-2 text-xl opacity-50">&#10005;</span> Tidak ada Database (No CRUD)</li>
                        <li class="flex items-center text-gray-500"><span class="mr-2 text-xl opacity-50">&#10005;</span> Tanpa Real-time</li>
                    </ul>
                </div>
                <button onclick="scrollToContact()" class="w-full py-3 bg-[#00f0b5] text-gray-900 font-bold rounded-lg transition duration-300 hover:bg-[#28ff9a] mt-auto">
                    Pesan Paket Ini
                </button>
            </div>

            <!-- PRICING CARD 2: PAKET PREMIUM (Full Stack/Real-time) -->
            <div class="pricing-card featured-card">
                <div>
                    <div class="pricing-header">
                        <h3 class="text-3xl font-extrabold text-[#00f0b5]">PAKET PREMIUM</h3>
                        <p class="text-sm text-yellow-300 mt-1 font-semibold">Rekomendasi Terbaik (Paling Populer)</p>
                    </div>
                    <div class="price-tag mb-4">
                        <span class="text-xl align-top text-gray-400">Rp</span>550
                    </div>
                    <p class="text-sm text-gray-300 mb-4">Proyek dinamis dengan penyimpanan data dan interaksi real-time, seperti demo Chat dan To-Do List.</p>
                    <ul class="space-y-3 mb-8 text-sm">
                        <li class="flex items-center"><span class="text-yellow-300 mr-2 text-xl">&#10003;</span> Desain UI/UX Penuh</li>
                        <li class="flex items-center"><span class="text-yellow-300 mr-2 text-xl">&#10003;</span> Fungsionalitas CRUD (Create, Read, Update, Delete)</li>
                        <li class="flex items-center"><span class="text-yellow-300 mr-2 text-xl">&#10003;</span> Autentikasi Dasar Pengguna</li>
                        <li class="flex items-center"><span class="text-yellow-300 mr-2 text-xl">&#10003;</span> Fitur Real-time (Sesuai Kebutuhan)</li>
                        <li class="flex items-center"><span class="text-yellow-300 mr-2 text-xl">&#10003;</span> 3x Revisi Desain & Fitur</li>
                    </ul>
                </div>
                <button onclick="scrollToContact()" class="w-full py-3 bg-yellow-500 text-gray-900 font-bold rounded-lg transition duration-300 hover:bg-yellow-400 mt-auto">
                    Pesan Paket Ini
                </button>
            </div>

            <!-- PRICING CARD 3: PAKET KUSTOM (Enterprise/Sistem) -->
            <div class="pricing-card">
                <div>
                    <div class="pricing-header">
                        <h3 class="text-3xl font-extrabold text-white">PAKET KUSTOM</h3>
                        <p class="text-sm text-gray-400 mt-1">Solusi Skala Besar & Kompleks</p>
                    </div>
                    <div class="price-tag mb-4">
                        <span class="text-xl align-top text-gray-400">Rp</span>Kutipan
                    </div>
                    <p class="text-sm text-gray-300 mb-4">Untuk proyek dengan logika bisnis yang sangat spesifik, integrasi API pihak ketiga, atau sistem manajemen konten (CMS) khusus.</p>
                    <ul class="space-y-3 mb-8 text-sm">
                        <li class="flex items-center"><span class="text-[#00f0b5] mr-2 text-xl">&#10003;</span> Arsitektur Berskala (Microservices/API)</li>
                        <li class="flex items-center"><span class="text-[#00f0b5] mr-2 text-xl">&#10003;</span> Integrasi API Eksternal</li>
                        <li class="flex items-center"><span class="text-[#00f0b5] mr-2 text-xl">&#10003;</span> Manajemen Proyek Khusus</li>
                        <li class="flex items-center"><span class="text-[#00f0b5] mr-2 text-xl">&#10003;</span> Dukungan Penuh Pasca-Peluncuran</li>
                        <li class="flex items-center"><span class="text-[#00f0b5] mr-2 text-xl">&#10003;</span> Revisi Tanpa Batas (Dalam Batasan Scope)</li>
                    </ul>
                </div>
                <button onclick="scrollToContact()" class="w-full py-3 bg-[#3e3e60] text-white font-bold rounded-lg transition duration-300 hover:bg-[#5a5a78] mt-auto">
                    Diskusikan Proyek
                </button>
            </div>
        </div>

        <!-- PEMISAH KONTAK -->
        <h2 id="contact-section" class="text-3xl md:text-4xl font-extrabold mt-20 mb-8 border-l-4 border-yellow-500 pl-4 text-yellow-400">
            [DASHBOARD KOMUNIKASI TERENKRIPSI]
        </h2>

        <!-- REVISI TOTAL: KONTAK TERENKRIPSI GAYA APLIKASI -->
        <div id="contactTerminal" class="contact-dashboard max-w-4xl mx-auto">
            <p class="text-center text-gray-400 mb-6 italic">Klik panel untuk menguraikan data dan menyalin informasi.</p>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                
                <!-- Card 1: Email -->
                <div id="cardEmail" class="contact-card group" onclick="ScrambleText('contactEmail')">
                    <div class="flex items-center mb-4">
                        <!-- Ikon Email (Surat) -->
                        <svg class="card-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8m-17 4v7a2 2 0 002 2h14a2 2 0 002-2v-7m-17 0L12 16l-9-4"></path></svg>
                        <h4 class="text-2xl font-bold ml-3 text-white group-hover:text-[#00f0b5] transition duration-200">EMAIL</h4>
                    </div>
                    <p class="text-gray-500 mb-2">Saluran Resmi Jaringan</p>
                    <div class="text-sm">
                        <span id="contactEmail" class="scramble" data-target-text="dullbibb@gmail.com">--ENCRYPTED--</span> 
                    </div>
                    <button onclick="event.stopPropagation(); copyToClipboard('contactEmail')" class="copy-btn mt-3 block w-full group-hover:bg-[#00f0b5] group-hover:text-gray-900 transition duration-200">
                        Salin ke Clipboard
                    </button>
                </div>

                <!-- Card 2: WhatsApp/Phone -->
                <div id="cardPhone" class="contact-card group" onclick="ScrambleText('contactPhone')">
                    <div class="flex items-center mb-4">
                        <!-- Ikon Telepon/WhatsApp -->
                        <svg class="card-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                        <h4 class="text-2xl font-bold ml-3 text-white group-hover:text-[#00f0b5] transition duration-200">WHATSAPP</h4>
                    </div>
                    <p class="text-gray-500 mb-2">Komunikasi Instan (Prioritas)</p>
                    <div class="text-sm">
                        <span id="contactPhone" class="scramble" data-target-text="081934704296">--ENCRYPTED--</span> 
                    </div>
                    <button onclick="event.stopPropagation(); copyToClipboard('contactPhone')" class="copy-btn mt-3 block w-full group-hover:bg-[#00f0b5] group-hover:text-gray-900 transition duration-200">
                        Salin ke Clipboard
                    </button>
                </div>

                <!-- Card 3: GitHub -->
                <a id="cardGithubLink" href="https://github.com/DRKNETKING" target="_blank" class="contact-card group block">
                    <div class="flex items-center mb-4">
                        <!-- Ikon GitHub (Mirip Kucing/Octocat - diwakili oleh Ikon Code) -->
                        <svg class="card-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path></svg>
                        <h4 class="text-2xl font-bold ml-3 text-white group-hover:text-[#00f0b5] transition duration-200">GITHUB</h4>
                    </div>
                    <p class="text-gray-500 mb-2">Akses Repositori Kode</p>
                    <div class="text-sm">
                         <span id="contactGithub" class="scramble text-xs" data-target-text="DRKNETKING/repo">--LINK-READY--</span>
                    </div>
                    <button class="copy-btn mt-3 block w-full bg-[#00f0b5] text-gray-900 font-bold hover:bg-[#28ff9a] transition duration-200">
                        Buka Repositori
                    </button>
                </a>
                <script>
                    // Mengatasi isu Scramble pada link GitHub (untuk menghindari tampilan ganda)
                    document.getElementById('cardGithubLink').onclick = function(e) {
                         // Non-aktifkan scrambling pada klik tautan agar langsung membuka link
                    };
                </script>
            </div>
        </div>

        <!-- Footer -->
        <footer class="mt-20 border-t border-[#00f0b5]/30 pt-8 text-center text-gray-500">
            <p>&copy; 2025 ¬© Abdulhabib.
Dibuat dengan dedikasi, kreativitas, dan kode yang rapi.
Seluruh desain, konten, dan kode dalam portofolio ini dilindungi oleh hukum hak cipta.
Dilarang menyalin, menyebarkan, atau memodifikasi tanpa izin dari pemilik.</p>
        </footer>

    </div>

    <!-- SCRIPT JAVASCRIPT & FIREBASE -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, query, onSnapshot, serverTimestamp, setLogLevel, updateDoc, deleteDoc, doc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Variabel global untuk inisialisasi Firebase
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
        
        let db = null;
        let auth = null;
        let userId = null;
        let username = 'Anonim_Anime'; 
        let isAuthReady = false;

        // Logging Firebase (untuk debugging)
        setLogLevel('Debug');
        
        // Elemen UI Global
        const statusMessage = document.getElementById('statusMessage');

        // Fungsi untuk scroll ke bagian kontak
        window.scrollToContact = function() {
            document.getElementById('contact-section').scrollIntoView({ behavior: 'smooth' });
        }
        
        // Fungsi untuk scroll ke bagian harga
        window.scrollToPricing = function() {
            document.getElementById('pricing-section').scrollIntoView({ behavior: 'smooth' });
        }


        // Fungsi untuk menampilkan pesan status yang bagus
        function showStatus(message, type = 'success') {
            statusMessage.textContent = message;
            statusMessage.classList.remove('hidden', 'bg-green-700', 'bg-red-700', 'bg-yellow-700', 'text-white', 'text-yellow-100');
            if (type === 'success') {
                statusMessage.classList.add('bg-green-700', 'text-white');
            } else if (type === 'error') {
                statusMessage.classList.add('bg-red-700', 'text-white');
            } else {
                 statusMessage.classList.add('bg-yellow-700', 'text-yellow-100');
            }
            statusMessage.classList.add('block');
            setTimeout(() => {
                statusMessage.classList.remove('block');
                statusMessage.classList.add('hidden');
            }, 3000);
        }
        
        // Fungsi untuk menyalin teks ke clipboard (digunakan di terminal kontak)
        window.copyToClipboard = function(elementId) {
            const element = document.getElementById(elementId);
            const textToCopy = element.getAttribute('data-target-text') || element.textContent;
            
            if (textToCopy === '--ENCRYPTED--' || textToCopy === '--LINK-READY--') {
                showStatus("Silakan klik kartu untuk menguraikan data terlebih dahulu!", 'error');
                return;
            }

            // Menggunakan execCommand karena navigator.clipboard mungkin tidak berfungsi di iframe
            const textarea = document.createElement('textarea');
            textarea.value = textToCopy;
            document.body.appendChild(textarea);
            textarea.select();
            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    showStatus("Teks berhasil disalin ke clipboard!", 'success');
                    // Efek visual pada tombol
                    const button = element.closest('.contact-card').querySelector('.copy-btn');
                    if (button) {
                        button.textContent = 'DATA BERHASIL DISALIN!';
                        setTimeout(() => button.textContent = 'Salin ke Clipboard', 1500);
                    }
                } else {
                    throw new Error("Copy failed");
                }
            } catch (err) {
                console.error('Gagal menyalin:', err);
                showStatus("Gagal menyalin. Silakan salin manual.", 'error');
            }
            document.body.removeChild(textarea);
        }

        // --- FUNGSI UTAMA FIREBASE & AUTENTIKASI ---
        async function initializeFirebase() {
            try {
                const app = initializeApp(firebaseConfig);
                auth = getAuth(app);
                db = getFirestore(app);

                // 1. Autentikasi Pengguna
                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    await signInAnonymously(auth);
                }

                // 2. Listener Status Autentikasi
                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        userId = user.uid;
                        // Atur username default
                        username = 'Kreator-' + userId.substring(0, 4); 
                        isAuthReady = true;
                        
                        document.getElementById('user-info-display').innerHTML = `Anda masuk sebagai: <span class="font-semibold text-[#00f0b5]">${username}</span> (ID: ${userId.substring(0, 10)}...)`;
                        
                        // Setelah Auth siap, mulai dengarkan pesan jika interface aktif
                        document.querySelectorAll('.interface-panel.active').forEach(panel => {
                            if (panel.id === 'chatInterface') listenForMessages();
                            if (panel.id === 'todoInterface') listenForTasks();
                        });

                    } else {
                        console.error("Autentikasi gagal.");
                        isAuthReady = true;
                    }
                });

            } catch (error) {
                console.error("Kesalahan inisialisasi Firebase:", error);
                isAuthReady = true;
            }
        }

        // --- FUNGSI JAM DAN TANGGAL FUTURISTIK ---
        function updateDateTime() {
            const now = new Date();
            
            // Format waktu (HH:MM:SS)
            const timeOptions = { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false };
            const timeString = now.toLocaleTimeString('id-ID', timeOptions);
            
            // Format tanggal (Hari, DD Bulan YYYY)
            const dateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const dateString = now.toLocaleDateString('id-ID', dateOptions);

            document.getElementById('currentTime').textContent = timeString;
            document.getElementById('currentDate').textContent = `[ ${dateString.toUpperCase()} ]`;
        }

        // --- FUNGSI SCRAMBLE TEXT (KONTAK) ---
        function ScrambleText(elementId) {
            const element = document.getElementById(elementId);
            const targetText = element.getAttribute('data-target-text');
            const originalText = element.textContent;
            
            if (!targetText) return;

            // Logika khusus untuk GitHub agar tidak ter-scramble jika sudah diuraikan
            if (elementId === 'contactGithub') {
                 if (originalText !== '--LINK-READY--') {
                    element.textContent = '--LINK-READY--';
                 } else {
                    // Jika diklik saat --LINK-READY--, tidak perlu di scramble
                 }
                 return;
            }

            const chars = '!@#$%^&*()_+{}|:"<>?~`-=/\\[];\',./';
            let frame = 0;
            const maxFrames = 30; // Durasi animasi

            // Jika sudah diuraikan, scramble kembali ke --ENCRYPTED--
            if (originalText !== '--ENCRYPTED--') {
                 // Langsung kembali ke terenkripsi tanpa animasi
                 element.textContent = '--ENCRYPTED--';
                 return;
            }

            // Fungsi untuk mendapatkan karakter acak
            const randomChar = () => chars[Math.floor(Math.random() * chars.length)];

            const interval = setInterval(() => {
                let scrambledText = '';
                const progress = frame / maxFrames;

                for (let i = 0; i < targetText.length; i++) {
                    const threshold = progress + (i / targetText.length) * 0.5;

                    if (Math.random() > threshold) {
                        scrambledText += randomChar();
                    } else {
                        scrambledText += targetText[i];
                    }
                }

                element.textContent = scrambledText;

                if (frame > maxFrames) {
                    clearInterval(interval);
                    element.textContent = targetText;
                }

                frame++;
            }, 50);
        }


        // --- FUNGSI CHAT FIREBASE (Demo #1) ---
        function listenForMessages() {
            if (!isAuthReady || !userId) return;

            const messagesContainer = document.getElementById('messages');
            const chatCollectionPath = `artifacts/${appId}/public/data/chat_messages`;
            const q = query(collection(db, chatCollectionPath));

            messagesContainer.innerHTML = '<p class="text-center text-gray-500 italic">Memuat pesan...</p>';

            onSnapshot(q, (snapshot) => {
                const messagesData = [];
                snapshot.forEach((doc) => {
                    messagesData.push({ id: doc.id, ...doc.data() });
                });
                
                messagesData.sort((a, b) => (a.timestamp?.toMillis() || 0) - (b.timestamp?.toMillis() || 0));

                messagesContainer.innerHTML = ''; 
                messagesData.forEach((message) => {
                    const isUser = message.userId === userId;
                    const messageElement = document.createElement('div');
                    
                    let time = message.timestamp && message.timestamp.toDate ? message.timestamp.toDate().toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' }) : 'Sekarang';

                    messageElement.className = `flex ${isUser ? 'justify-end' : 'justify-start'}`;
                    messageElement.innerHTML = `
                        <div class="message-bubble ${isUser ? 'user-message' : 'other-message'} shadow-md">
                            <span class="font-bold ${isUser ? 'text-gray-800' : 'text-[#00f0b5]'} text-xs">${isUser ? 'Anda' : message.username || 'Anonim'}</span>
                            <p class="text-sm break-words">${message.text}</p>
                            <span class="block text-right text-xs ${isUser ? 'text-gray-600' : 'text-gray-400'} mt-1">${time}</span>
                        </div>
                    `;
                    messagesContainer.appendChild(messageElement);
                });

                messagesContainer.scrollTop = messagesContainer.scrollHeight;

            }, (error) => {
                console.error("Error mendengarkan pesan:", error);
                showStatus("Gagal memuat pesan chat. Cek koneksi atau izin.", 'error');
            });
        }

        async function sendMessage(text) {
            if (!isAuthReady || !userId || !db) {
                showStatus("Sistem Chat belum siap. Tunggu autentikasi.", 'error');
                return;
            }
            const chatCollectionPath = `artifacts/${appId}/public/data/chat_messages`;
            try {
                await addDoc(collection(db, chatCollectionPath), {
                    userId: userId,
                    username: username,
                    text: text,
                    timestamp: serverTimestamp()
                });
            } catch (e) {
                showStatus("Error saat mengirim pesan. Coba lagi.", 'error');
            }
        }


        // --- FUNGSI TODO LIST FIREBASE (Demo #2) ---
        const todoCollectionPath = () => `artifacts/${appId}/users/${userId}/todo_tasks`;

        function listenForTasks() {
            if (!isAuthReady || !userId) return;
            const taskList = document.getElementById('taskList');
            const q = query(collection(db, todoCollectionPath()));

            onSnapshot(q, (snapshot) => {
                const tasks = [];
                snapshot.forEach((doc) => {
                    tasks.push({ id: doc.id, ...doc.data() });
                });
                
                tasks.sort((a, b) => (a.createdAt?.toMillis() || 0) - (b.createdAt?.toMillis() || 0));

                taskList.innerHTML = ''; 
                if (tasks.length === 0) {
                    taskList.innerHTML = '<p class="text-center text-gray-500 italic mt-4">Tidak ada tugas! Tambahkan tugas pertama Anda.</p>';
                    return;
                }

                tasks.forEach(task => {
                    const taskEl = document.createElement('div');
                    taskEl.className = 'flex justify-between items-center p-3 mb-2 rounded-lg transition duration-200 border border-[#3e3e60] ' + (task.completed ? 'bg-green-900/40 opacity-70' : 'bg-[#3e3e60] hover:bg-[#5a5a78]');
                    
                    taskEl.innerHTML = `
                        <span class="flex-grow ${task.completed ? 'line-through text-gray-400' : 'text-white'} text-sm">${task.text}</span>
                        <div class="flex space-x-2">
                            <button data-id="${task.id}" class="toggle-complete text-[#00f0b5] hover:text-[#28ff9a] disabled:opacity-50" title="Selesai">
                                ${task.completed ? 
                                    '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>' : 
                                    '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>'}
                            </button>
                            <button data-id="${task.id}" class="delete-task text-red-500 hover:text-red-700 disabled:opacity-50" title="Hapus">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                            </button>
                        </div>
                    `;
                    taskList.appendChild(taskEl);
                });
            }, (error) => {
                console.error("Error mendengarkan tugas:", error);
                showStatus("Gagal memuat tugas. Cek koneksi.", 'error');
            });
        }

        async function addTask(text) {
            if (!isAuthReady || !userId || !db) {
                showStatus("Sistem Tugas belum siap. Tunggu autentikasi.", 'error');
                return;
            }
            try {
                await addDoc(collection(db, todoCollectionPath()), {
                    text: text,
                    completed: false,
                    createdAt: serverTimestamp()
                });
                showStatus("Tugas berhasil ditambahkan.");
            } catch (e) {
                showStatus("Error saat menambah tugas. Coba lagi.", 'error');
            }
        }

        async function toggleTaskComplete(taskId, completed) {
            if (!isAuthReady || !userId || !db) return;
            try {
                await updateDoc(doc(db, todoCollectionPath(), taskId), {
                    completed: !completed
                });
                showStatus(completed ? "Tugas ditandai BELUM selesai." : "Tugas ditandai SELESAI.");
            } catch (e) {
                showStatus("Error saat memperbarui tugas.", 'error');
            }
        }

        async function deleteTask(taskId) {
            if (!isAuthReady || !userId || !db) return;
            try {
                await deleteDoc(doc(db, todoCollectionPath(), taskId));
                showStatus("Tugas berhasil dihapus.");
            } catch (e) {
                showStatus("Error saat menghapus tugas.", 'error');
            }
        }

        // --- FUNGSI REACTION GAME (Demo #3) ---
        let gameActive = false;
        let startTime = 0;
        let timeoutId = null;

        function startGame() {
            const area = document.getElementById('reaction-area');
            const status = document.getElementById('gameStatus');
            const result = document.getElementById('resultText');
            
            // Reset state
            gameActive = false;
            result.textContent = '0 ms';
            area.style.backgroundColor = '#d32f2f'; // Merah
            area.textContent = 'Klik untuk Batalkan';
            status.textContent = 'Tunggu sampai warna berubah menjadi HIJAU...';
            area.onclick = cancelGame;
            document.getElementById('startGameButton').style.backgroundColor = '#d32f2f'; // Merah
            document.getElementById('startGameButton').textContent = 'RESET';

            // Atur waktu tunggu acak (2 hingga 5 detik)
            const waitTime = Math.random() * 3000 + 2000; 

            timeoutId = setTimeout(() => {
                area.style.backgroundColor = '#388e3c'; // Hijau
                area.textContent = 'KLIK SEKARANG!';
                status.textContent = '!!! KLIK CEPAT !!!';
                gameActive = true;
                startTime = performance.now();
                area.onclick = recordReaction;
            }, waitTime);
        }

        function cancelGame() {
            clearTimeout(timeoutId);
            const area = document.getElementById('reaction-area');
            const status = document.getElementById('gameStatus');
            const result = document.getElementById('resultText');

            area.style.backgroundColor = '#1a1a2e'; // Hitam
            area.textContent = 'Anda terlalu Cepat! Coba lagi.';
            status.textContent = 'Reaksi dibatalkan. Coba Lagi.';
            result.textContent = 'Gagal';
            area.onclick = () => {}; // Non-aktifkan area klik 
            document.getElementById('startGameButton').style.backgroundColor = '#00f0b5'; // Hijau
            document.getElementById('startGameButton').textContent = 'Mulai Ulang';
        }

        function recordReaction() {
            if (!gameActive) {
                cancelGame(); // Jika diklik sebelum hijau
                return;
            }
            const endTime = performance.now();
            const reactionTime = (endTime - startTime).toFixed(3);
            
            const area = document.getElementById('reaction-area');
            const status = document.getElementById('gameStatus');
            const result = document.getElementById('resultText');
            
            area.style.backgroundColor = '#1a1a2e'; // Hitam
            area.textContent = 'Selesai!';
            status.textContent = 'Reaksi Anda Tercatat:';
            result.textContent = `${reactionTime} ms`;
            gameActive = false;
            area.onclick = () => {}; // Non-aktifkan area klik 
            document.getElementById('startGameButton').style.backgroundColor = '#00f0b5'; // Hijau
            document.getElementById('startGameButton').textContent = 'Mulai Ulang';
        }


        // --- FUNGSI CALCULATOR (Demo #4) ---
        let displayValue = '0';
        let firstOperand = null;
        let operator = null;
        let waitingForSecondOperand = false;

        function updateCalculatorDisplay() {
            const display = document.getElementById('display');
            display.textContent = displayValue;
        }

        function inputDigit(digit) {
            if (waitingForSecondOperand === true) {
                displayValue = digit;
                waitingForSecondOperand = false;
            } else {
                displayValue = displayValue === '0' ? digit : displayValue + digit;
            }
            updateCalculatorDisplay();
        }

        function inputDecimal(dot) {
            if (waitingForSecondOperand === true) {
                displayValue = '0.';
                waitingForSecondOperand = false;
                return;
            }
            if (!displayValue.includes(dot)) {
                displayValue += dot;
            }
            updateCalculatorDisplay();
        }
        
        // Fungsi untuk menghitung ekspresi
        function evaluate(first, second, op) {
            first = parseFloat(first);
            second = parseFloat(second);
            if (isNaN(first) || isNaN(second)) return NaN;
            switch (op) {
                case '+': return first + second;
                case '-': return first - second;
                case '*': return first * second;
                case '/': return first / second;
                default: return second;
            }
        }

        function handleOperator(nextOperator) {
            const inputValue = parseFloat(displayValue);

            if (operator && waitingForSecondOperand)  {
                // Jika operator baru ditekan sebelum operand kedua, ganti operator
                operator = nextOperator;
                return;
            }

            if (firstOperand === null) {
                firstOperand = inputValue;
            } else if (operator) {
                // Lakukan perhitungan sebelumnya
                const result = evaluate(firstOperand, inputValue, operator);
                
                // Jika hasilnya terlalu panjang, gunakan notasi eksponensial
                displayValue = String(result).length > 12 ? result.toExponential(5) : String(result);
                firstOperand = result;
            }
            
            waitingForSecondOperand = true;
            if (nextOperator !== '=') {
                operator = nextOperator;
            } else {
                operator = null;
            }
            updateCalculatorDisplay();
        }

        function resetCalculator() {
            displayValue = '0';
            firstOperand = null;
            operator = null;
            waitingForSecondOperand = false;
            updateCalculatorDisplay();
        }

        // --- LOGIKA UTAMA APLIKASI DAN LOADING SCREEN ---

        document.addEventListener('DOMContentLoaded', () => {
            const loadingScreen = document.getElementById('loading-screen');
            const mainContent = document.getElementById('main-content');
            
            // Waktu minimum loading: 6 detik (6000ms)
            const minLoadTime = 6000; 

            // Elemen UI
            const demoButtons = document.querySelectorAll('.demo-button');
            const closeButtons = document.querySelectorAll('.close-button');
            const chatForm = document.getElementById('messageForm');
            const chatInput = document.getElementById('messageInput');
            const todoForm = document.getElementById('todoForm');
            const todoInput = document.getElementById('todoInput');
            const taskList = document.getElementById('taskList');
            const startGameButton = document.getElementById('startGameButton');
            const reactionArea = document.getElementById('reaction-area');
            const calculatorDiv = document.getElementById('calculatorInterface');
            const scrambleElements = document.querySelectorAll('.scramble');

            // Set interval untuk Jam dan Tanggal
            updateDateTime(); 
            setInterval(updateDateTime, 1000); 

            // Listener untuk Scramble Text
            scrambleElements.forEach(element => {
                element.addEventListener('click', (e) => {
                    // Mencegah klik pada elemen scramble di dalam link GitHub agar tidak double-trigger
                    if (element.closest('#cardGithubLink')) return;
                    ScrambleText(element.id);
                    e.stopPropagation(); // Mencegah event card parent
                });
            });


            // --- Logika Loading Screen BARU ---
            function hideLoadingScreen() {
                setTimeout(() => {
                    loadingScreen.classList.add('loading-hidden');
                    setTimeout(() => {
                        mainContent.classList.add('content-visible');
                        document.body.style.overflow = 'auto'; // Aktifkan scroll
                    }, 700); 

                }, minLoadTime);
            }
            window.addEventListener('load', hideLoadingScreen);

            
            // --- Logika Navigasi Antarmuka (Panel) ---
            
            function showInterface(targetId) {
                document.querySelectorAll('.interface-panel').forEach(panel => {
                    panel.classList.add('hidden');
                    panel.classList.remove('active');
                });

                const targetPanel = document.getElementById(targetId);
                if (targetPanel) {
                    targetPanel.classList.remove('hidden');
                    targetPanel.classList.add('active');

                    // Panggil listener yang sesuai
                    if (targetId === 'chatInterface' && isAuthReady) listenForMessages();
                    if (targetId === 'todoInterface' && isAuthReady) listenForTasks();
                    if (targetId === 'gameInterface') {
                        // Inisialisasi/Reset game saat dibuka
                        startGameButton.click(); 
                    }
                    if (targetId === 'calculatorInterface') {
                         resetCalculator();
                    }
                }
            }
            
            // Memastikan KARTU Proyek BISA DIKLIK (Fungsi Akses Portofolio Profesional)
            demoButtons.forEach(button => {
                button.addEventListener('click', () => {
                    showInterface(button.dataset.target);
                });
            });

            closeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    button.closest('.interface-panel').classList.add('hidden');
                    button.closest('.interface-panel').classList.remove('active');
                });
            });

            // --- Event Listener Demo #1 (Chat) ---
            chatForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const messageText = chatInput.value.trim();
                if (messageText) {
                    sendMessage(messageText);
                    chatInput.value = ''; 
                }
            });

            // --- Event Listener Demo #2 (To-Do List) ---
            todoForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const taskText = todoInput.value.trim();
                if (taskText && isAuthReady) {
                    addTask(taskText);
                    todoInput.value = ''; 
                } else if (!isAuthReady) {
                    showStatus("Tunggu autentikasi selesai untuk menyimpan tugas.", 'error');
                }
            });

            taskList.addEventListener('click', (e) => {
                const target = e.target.closest('button');
                if (!target) return;

                const taskId = target.dataset.id;
                
                if (target.classList.contains('delete-task')) {
                    deleteTask(taskId);
                } else if (target.classList.contains('toggle-complete')) {
                    // Mendapatkan status 'completed' dari task (dengan mencari di elemen induk)
                    const taskElement = target.closest('div.flex');
                    const taskTextElement = taskElement.querySelector('span');
                    const isCompleted = taskTextElement.classList.contains('line-through');
                    toggleTaskComplete(taskId, isCompleted);
                }
            });

            // --- Event Listener Demo #3 (Reaction Game) ---
            startGameButton.addEventListener('click', () => {
                startGame();
            });
            reactionArea.onclick = () => {
                if (gameActive) recordReaction();
                else cancelGame(); // Jika klik saat merah
            };
            
            // Set up awal untuk tombol game
            document.getElementById('startGameButton').style.backgroundColor = '#00f0b5'; 
            document.getElementById('startGameButton').textContent = 'Mulai';

            // --- Event Listener Demo #4 (Calculator) ---
            calculatorDiv.addEventListener('click', (e) => {
                if (e.target.matches('button.calc-btn')) {
                    const { value } = e.target.dataset;

                    if (value === 'AC') {
                        resetCalculator();
                    } else if (value === 'DEL') {
                        // Memastikan DEL berfungsi bahkan pada string notasi eksponensial
                        if (displayValue.includes('e')) {
                            resetCalculator(); // Reset jika notasi eksponensial
                        } else {
                            displayValue = displayValue.substring(0, displayValue.length - 1) || '0';
                        }
                        updateCalculatorDisplay();
                    } else if (value === '.') {
                        inputDecimal(value);
                    } else if (value === '=' || value === '+' || value === '-' || value === '*' || value === '/') {
                        handleOperator(value);
                    } else {
                        inputDigit(value);
                    }
                }
            });


            // Mulai inisialisasi Firebase segera
            initializeFirebase();
        });
    </script>
</body>
</html>




























